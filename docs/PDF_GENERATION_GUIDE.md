# PDF Output Generation Guide

## Overview

The system now generates **formatted PDF reports** in addition to text files for better readability and professional presentation.

## What's New

### Automatic PDF Generation

When you run policy analysis, the system now automatically generates:

1. **Text Reports** (.txt) - Plain text format (original)
2. **PDF Reports** (.pdf) - Formatted with markdown styling (NEW)

### PDF Features

- ✅ **Professional Formatting** - Clean, readable layout
- ✅ **Markdown Support** - Headings, bullets, bold text
- ✅ **Structured Layout** - Proper spacing and hierarchy
- ✅ **Print-Ready** - Optimized for printing and sharing

## Usage

### Analyze Policy (Generates Both TXT and PDF)

```bash
python src/main.py --policy data/test_policies/isms_policy.txt
```

**Output:**
```
output/
├── isms_policy_20260207_162145_gap_analysis.txt
├── isms_policy_20260207_162145_gap_analysis.pdf          ← NEW
├── isms_policy_20260207_162145_revised_policy.txt
├── isms_policy_20260207_162145_revised_policy.pdf        ← NEW
├── isms_policy_20260207_162145_roadmap.txt
├── isms_policy_20260207_162145_roadmap.pdf               ← NEW
├── isms_policy_20260207_162145_executive_summary.txt
├── isms_policy_20260207_162145_executive_summary.pdf     ← NEW
├── isms_policy_20260207_162145_comprehensive_report.txt
└── isms_policy_20260207_162145_comprehensive_report.pdf  ← NEW
```

### Convert Existing Text Reports to PDF

If you have existing text reports and want to convert them to PDF:

```bash
python convert_to_pdf.py
```

This will scan the `output/` folder and generate PDF versions of all `.txt` reports.

## PDF Report Types

### 1. Gap Analysis PDF
- Detailed list of policy gaps
- NIST framework references
- Priority categorization (Critical/Significant/Minor)

### 2. Revised Policy PDF
- Complete improved policy document
- Addresses all identified gaps
- NIST-aligned provisions

### 3. Implementation Roadmap PDF
- Phased improvement plan (0-3, 3-6, 6-12 months)
- Resource requirements
- Success metrics
- Key milestones

### 4. Executive Summary PDF
- High-level overview for leadership
- Key findings and recommendations
- Investment requirements
- Expected outcomes

### 5. Comprehensive Report PDF
- All above reports combined
- Complete analysis in one document
- Ideal for archiving and sharing

## Installation

The PDF generation requires the `reportlab` library:

```bash
pip install reportlab
```

Or install all dependencies:

```bash
pip install -r requirements.txt
```

## Formatting Features

The PDF generator automatically formats:

- **HEADINGS** - All-caps text becomes titles
- **Subheadings:** - Lines ending with colon
- **Bold text** - Text wrapped in `**asterisks**`
- • Bullet points - Lines starting with -, *, or •
- 1. Numbered lists - Lines starting with numbers
- Regular paragraphs with proper spacing

## Troubleshooting

### "reportlab not found"
```bash
pip install reportlab
```

### PDF Generation Failed
- Text reports are still generated
- Check error message in console
- Verify reportlab installation: `pip show reportlab`

### Special Characters Not Displaying
- The system automatically escapes special characters
- Unicode characters are handled properly
- If issues persist, check the text report

## Benefits

### For Technical Teams
- Easy to review and annotate
- Better formatting for code/technical content
- Searchable PDF format

### For Management
- Professional presentation
- Print-ready format
- Easy to share via email

### For Compliance
- Archival-quality format
- Timestamped reports
- Complete audit trail

## Performance

PDF generation adds minimal overhead:
- **Time:** ~1-2 seconds per report
- **Size:** PDFs are typically 2-3x larger than text files
- **Quality:** High-resolution, print-ready output

## Notes

- Both TXT and PDF formats are generated by default
- Text files remain available as backup
- PDF generation errors don't stop the analysis
- All formatting is automatic - no manual intervention needed

---

**Version:** 1.1  
**Last Updated:** February 2026  
**New Feature:** Formatted PDF Output
